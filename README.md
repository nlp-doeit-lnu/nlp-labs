# КОМП'ЮТЕРНА ЛІНГВІСТИКА ТА ОБРОБКА ПРИРОДНОЇ МОВИ

## Структура курсу

## Користування репозиторієм

### Linux

1. Встановіть Docker Engine, [вибравши свій дистрибутив](https://docs.docker.com/engine/install/) на офіційному сайті Docker.

2. Скачати відповідний архів з docker-зображенням [тут].  
Трохи складніший варіант: збудувати самостійно зображення з Dockerfile, користуючись скриптом build.sh, який знаходиться в репозиторії, в папці з відповідним зображенням.
В такому випадку ви пропускаєте пункт 3 і одразу переходите до пункту 4.

3. Завантажити архів як зображення в Docker за допомогою команди `docker load`:  
```
docker load -i <path to image tar file>
```

4. Запустіть скрипт build.sh, який знаходиться в репозиторії, в папці з відповідним зображенням.
**Важливо** запускати цей скрипт з кореня репозиторію.
Цей скрипт перевірить, чи вже існує потрібне зображення, якщо ні, то він збудує його на основі Dockerfile, якщо так --- зґенерує скрипт run.sh з вказаними шляхами до потрібних папок у системі.  
До них входять:
    - шлях до репозиторію (змінна `NLP_HOME`), з якого виводяться шляхи до папки з програмами (змінні `LOCAL_JARS` і `LOCAL_BINS`) і папки зі скриптами (змінна `LOCAL_SCRIPTS`);

    - шлях до папки з даними (змінна `NLP_DATA`);
    
    - шлях до папки, в яку ви хочете зберігати результати (змінна `NLP_RESULTS`).

`NLP_HOME` визначається автоматично, як корінь скачаного репозиторію. `NLP_DATA` і `NLP_RESULTS` вводяться через термінал під час виконання скрипта.  
За замовчуванням папки `LOCAL_JARS`/`LOCAL_BINS`, `LOCAL_SCRIPTS`, `NLP_DATA` і `NLP_RESULTS` монтуватимуться в папку `/mnt` в корені файлової системи зображення.
За бажанням, це можна змінити, редагуючи змінні `CONT_PROGRAM_HOME`, `CONT_SCRIPT_HOME`, `CONT_RESULT_HOME` і `CONT_DATA_HOME` в скрипті run.sh.

5. У корені репозиторію в папці scripts (туди веде шлях, який міститься у змінній `LOCAL_SCRIPTS`) знаходяться скрипти, назва кожного з яких відповідає назві певної програми з курсу.
Щоб вибрати програму, яку ви хочете запустити, в скрипті run.sh потрібно вказати назву цього скрипта.
**Зауважте, що скрипт буде працювати тільки за умови, що вони не змінювали шляхи у змінні `CONT_PROGRAM_HOME`.**
В іншому випадку вам потрібно в скрипті run.sh вказувати новий шлях до файлу виконання програми.

6. Запустіть контейнер і програму за допомогою скрипту run.sh.

7. Збережіть результати розрахунків у папку `/mnt/results/`, або будь-яку іншу, яку ви примонтували до контейнера ззовні.

8. Після того, як ви закриєте вікно програми, контейнер автоматично закриється, збережуться тільки ті файли, що знаходяться в примонтованих ззовні папках.

### Windows

1. Встановити Docker Engine (як частину Docker Desktop), користуючись [цією інструкцією](https://docs.docker.com/desktop/install/windows-install/) з офіційного сайту Docker.
Фактично все, що потрібно, можна буде зробити суто через термінал, але за бажанням, можна використовувати також графічний інтерфейс Docker Desktop.

2. Скачати відповідний архів з docker-зображенням [тут].  
Трохи складніший варіант: збудувати самостійно зображення з Dockerfile, користуючись скриптом build.sh.
В такому випадку ви пропускаєте пункт 3 і одразу переходите до пункту 4.

3. Завантажити архів як зображення в Docker за допомогою команди `docker load`:  
```
docker load -i <path to image tar file>
```

4. У папці зі зображенням знаходиться скрипт під назвою run.sh.
У цьому скрипті самостійно вкажіть шлях до папки, в яку ви зберегли репозиторій (змінна `LOCAL_HOME`).
Якщо ви не розділяли підпапки цього репозиторію, то решта шляхів будуть визначені автоматично в скрипті.
За замовчуванням ці папки монтуватимуться в папку `/mnt` в корені файлової системи зображення.
Це можна змінити через змінній `CONT_PROGRAM_HOME`, `CONT_SCRIPT_HOME`, `CONT_RESULT_HOME` і `CONT_DATA_HOME`.

5. У корені репозиторію в папці scripts знаходяться скрипти, назва кожного з яких відповідає назві певної програми з курсу.
Ця папка також за замовчуванням монтується в папку `/mnt` в корені файлової системи зображення.
Щоб вибрати програму, яку ви хочете запустити, в скрипті run.sh потрібно вказати назву цього скрипта.
**Зауважте, що скрипт буде працювати тільки за умови, що вони не змінювали шляхи у змінні `CONT_PROGRAM_HOME`.**
В іншому випадку вам потрібно в скрипті run.sh вказувати новий шлях до файлу виконання програми.

6. Запустіть контейнер і програму за допомогою скрипту run.sh.

7. Збережіть результати розрахунків у папку `/mnt/result/`, або будь-яку іншу, яку ви примонтували до контейнера ззовні.

8. Після того, як ви закриєте вікно програми, контейнер автоматично закриється, збережуться тільки ті файли, що знаходяться в примонтованих ззовні папках.

