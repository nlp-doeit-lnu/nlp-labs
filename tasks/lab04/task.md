# Лабораторна робота №4

## Зростання словника корпусу текстів. Практичні рецепти бінування

### Завдання

1. Дослідити закон Гіпса для великого корпусу текстів.  
Із баз текстів, що додаються, для роботи потрібно вибрати щонайменше 150 (а ще ліпше $\approx$ 1000 і більше) текстів, які мають помітно різні розміри.
У дослідженні Ви повинні розглянути три методи бінування:

    1. з однаковими довжинами бінів;

    2. з різними довжинами бінів, кожен з яких містить однакову кількість емпіричних точок (довжин текстів) $L_i$;

    3. експоненційне (або, що те саме, логарифмічне) бінування.

2. Побудувати біновані графіки залежності розмірів словників $V$ від розмірів текстів $L$.
Ви­користовуючи лінійну апроксимацію даних у подвійному логарифмічному масштабі, знайти числове значення коефіцієнту Гіпса $\theta$, притаманне обраній Вами мові.

3. Порівняти дані для параметра Гіпса $\theta$, отримані за допомогою різних способів бінування, а також із даними, одержаними для окремих текстів тою ж мовою (якщо такі було одержано Вами в [лабораторній роботі №3](../lab03/task.md)).


2. Дослідити I, II-й закони Ціпфа та закон Парето для одного з запропонованих текстів українською (або будь-якою іншою) мовою на рівні слів та провести порівняння отриманих результатів із результатами дослідження тексту англійською мовою.

### Порядок виконання роботи

1. В теоретичній частині описати залежності середньої частоти слова від довжини тексту, середньоквадратичного відхилення частоти слова від довжини тексту, залеж­ності середньоквадратичного відхилення частоти слова від середньої частоти слова, а також зміст показників степенів для цих залежностей, співвідношення між ними і поняття ергодичності.

2. Для виконання роботи оберіть одну з програм +V(L)binning (скрипти `vocab&binning`).
Зауважте, що програми ++V(L)binning2023\_1,2 мають додаткові можливості вивчення ієрогліфічних мов завдяки наявності режиму «символів» (а не тільки режиму «слів», який годиться для вивчення словників алфавітних мов).
Проте в цих програмах не працюють деякі додат­кові функції на зразок часткового очищення аналізованих слів від «підозріло довгих» слів (за фактом --- помилок оцифрування текстів).
Зауважте також, що в програмах ++V(L)binning2023\_1,2 обрано протилежні підходи у розрізненні/ототожненні великих і малих літер.

3. Англомовні тексти можна взяти з корпусів English corpus1not cleaned, English base2cleaned&expanded, а тексти іншими мовами --- з наявних на гугл-диску менших корпусів.
Бажано узяти мінімум 150 текстів, а ще ліпше 1000&ndash;4000 текстів із помітно різними розмірами.
Усі тексти повинні бути написані єдиною мовою.
Для дослідження можна взяти й повністю один із корпусів English corpus1not cleaned або English corpus2punctuation-cleaned&reduced.
Нарешті, можна обрати також повні або неповні корпуси текстів китайською або японською мовами, з якими слід працювати в режимі «символи», а не «слова».

4. Побудуйте графік залежності розмірів словника $V$ від розмірів тексту $L$, за прикладом даних рис. 1г зі статтіFrequency fluctuations for the linguistic elements in textual base2017.

5. Використайте три основні методи бінування 1&ndash;3.
На основі цих типів бінування побудуйте залежності $V_{сер}(L)$, $dV(L)$ та $dV(V_{сер})$ для обраного корпусу текстів (див. рис. 2 з вищезгаданої статті; проте врахуйте, що ці графіки в статті стосуються не словника, а частоти деякого конкретного слова).

6. У бінуванні кількість точок-бінів найліпше брати в межах 10&ndash;50 (як у статті зі списку літе­ра­тури) або самостійно визначити оптимальну кількість точок для вашого корпусу текстів.
Під час експоненційного бінування уважно обирайте оптимальне значення степеня $А$.

7. До звіту включіть залежності в звичайному (лінійному) та логарифмічному масштабах, а також дані їхніх лінійних апроксимацій, як і в звіті до [лабораторної роботи №2](../lab02/task.md).

8. *Додаткові завдання (необов'язові, замість захисту)*:

    1. засвоїти роботу програми +DynamicBinning&x\_avg&pdf&cdf, яка дає змогу провес­ти бінування даних, записаних «в один стовпець», а також знайти залежності кумулятивної імовірності (ccdf або ccmf) на основі залежності густини імовірності pdf (або масової ймовірності pmf).
    Прикладами таких даних можуть бути дані для зросту великої групи людей або для розмірів файлів на диску; 

    2. засвоїти роботу програми +DynamicBinning&x\_avg&y\_avg&pdf&cdf, яка дає змогу провести бінування даних, записаних «у два стовпці», а також знайти за­лежності кумулятивної імовірності (ccdf або ccmf) на основі залежності густини імовірності pdf (або масової ймовірності pmf).
    Прикладами таких даних можуть бути ті ж самі дані для залежності словника текстів $V$ (колонка №2) від довжини цих текстів $L$ (колонка №1).
    Потребу в такій програмі легко збагнути, якщо уявити ситуацію, що Ви здобу­ли та записали початкові дані $V(L)$ для всіх текстів у корпусі за допомогою однією з програм +V(L)binning, проте одразу не виконали бінування (або виконали, проте воно виявилося невдалим) і закрили цю про­граму.
    Тоді вихідні дані програм +V(L)binning можна зчитати програмою +DynamicBinning&x_avg&y_avg&pdf&cdf;

    3. засвоїти роботу програми +pdf-to-cdf2 із лабораторної роботи №25 для побудови залежності кумулятивної імовірності (ccdf або ccmf) на основі залежності густини імо­вірності pdf (або масової ймовірності pmf).

9. Висновок повинен містити короткий виклад інформації про особливості ваших ре­зультатів; порівняння даних, одержаних різними способами бінування; визначення най­ліпшого, на Вашу думку, способу бінування; висновок про середній параметр Гіпса $\theta$ для корпусу текстів.
